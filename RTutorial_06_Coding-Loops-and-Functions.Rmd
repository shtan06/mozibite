---
title: "Session Three (d): Coding - If, Loops and User-Defined Functions"
author: "Estimated Duration: 30 minutes"
output:
  html_document: 
    code_folding: show
    highlight: tango
    number_sections: no
    theme: sandstone
    toc: yes
    toc_depth: 5
    toc_float:
      collapsed: no
      smooth_scroll: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
<br>

# {.tabset}

## 1. If Statement

### __Part 1: If Statement__

<br>

#### if and else

```{r}
x <- 3

if(x>2){
  y <- x*10
  y+5
}

if(x>2){
  message("x is more than 2")
} else
  if(x<2){
    message("x is less than 2")
  } else
    {
      message("x equals 2")
      }
```

<br>

#### ifelse
This function is useful for vectors since you can pass a logical vector with a length of more than one.  

```{r}
ifelse(c(5,1,9,6,2,10,7,3,9,4)>5,"High","Low")
```

The standard if statement will not work with such vectors
```{r}
if(c(5,1,9,6,2,10,7,3,9,4)>5){
message("High")
}
```

<br>
<br>

## 2. Loops

### __Part 2: Loops__

<br>

#### Repeat

Executes the code until it meets the criteria, then it will break.  

```{r}
repeat{
  random_no <- sample(1:20,1)
  message(random_no)
  if(random_no>16) break
}
```

<br>

#### While

```{r}
# Example 1

i <- 0 # while loop must have a starting point. Can be any number in this case.
while(i<16)
  {
  print(i)
  i=sample(1:20,1)
  print(i)
}

# Example 2

i <- 1
while (i < 6) {
print(i)
i = i+1 # every loop add and stores increment value of 1, does not reset until the end. Loop will continue forever if you do not add +1.
}
```
Note: to force break the loop, point the cursor in the console and press Esc.  

<br>

#### For
Used when you know exactly how many times you want the code to repeat.

```{r}
for(i in 1:6){
  message(i)
}
```

<br>
<br>

## 3. User-Defined Functions

### __Part 3: User-Defined Functions__

<br>

#### Examples

__Example 1__

Create a function to calculate the average speed (km/h), given the distance travelled (km) and time (hours).  

Speed = Distance/Time

```{r}
speed <- function(d,t) # arguments
{print("Your speed is:"); # contents
  (d/t)
}
```
 

Call the function:
```{r}
speed(100,2)
```

__Example 2__

Area and circumference of a circle = pi*radius(squared) and 2*pi* radius, respectively.

```{r}
circle <- function(r=10) c(pi*r^2, 2*pi*r)

# Note: braces {} can be omitted if the is only one line of code.
```

Call the function:
```{r}
circle() # note that the default r is 10 as defined in the function
circle(6.5)
```


__Example 3__

Using the example from the above If section:  

```{r}

price <- function(x)
{
  if(x>2){
  message("x is more than 2")
} else
  if(x<2){
    message("x is less than 2")
  } else
    {
      message("x equals 2")
      }
}
```

Call the function:
```{r}
price(1.8)
```

<br>
<br>
